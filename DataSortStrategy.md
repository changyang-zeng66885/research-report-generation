# 研报生成系统架构设计
我正在设计一个研报生成的机器人，大致思路是：将相关的数据（例如价格走势）和往期参考研报存放在数据库中。当需要生成研报时，由Data Agent生成SQL 查询语句，将查询结果返回给Researcher Agent 撰写研报，最后由Editor Agent进行润色。

## 数据处理



在数据查询阶段，结构化的数据（如价格，供应量）等数据很容易存储在数据库中。难点是非结构化的数据（如研报文本）。在研报生成过程中，我需要通过研报收集：

某时间 重要的政策信息（例如涉及铁矿石行业的政策变动、环保政策、贸易政策等）
市场情绪数据：市场对大宗商品价格的预期、市场情绪波动等。
其他可以利用的数据，例如对以往走势的分析。虽然这部分的数据可以通过SQL查询，但是我还是希望能够利用到这些数据.

### 结构化数据
+ 总体设想：将数据整理并存储在Sqlite中。DataAgent通过写SQL查询所需的数据

#### 数据表一览


#### 访问方式

### 非结构化数据
#### 总体设想
+ 整理研报中重要的时间节点+信息
+ 将研报数据转化成 json 数据，具体而言应包括以下属性：

  + 研报标题
  + 研报发布时间（xxxx年xx月）
  + 观点内容
  + 观点类型（政策信息，数据走势，市场情绪。。。。）
  + 观点时间（xxxx年xx月）
```json
{
  "title": "研报标题",
  "publish_date": "xxxx年xx月",
  "content": "观点内容",
  "type": "观点类型",
  "view_date": "xxxx年xx月"
}
```
+ 最后将json 数据转化为pandas数据库，存储在sqlite数据库中